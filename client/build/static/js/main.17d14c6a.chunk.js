(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{114:function(e,t,n){},141:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(30),r=n.n(c),s=(n(114),n(3)),i=n(15),l=n(6),o=n(9),j=n.n(o),d=n(12),u=n(22),b=n.n(u),h=function(){return window.localStorage.getItem("token")},m="/api",p=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"get",url:"".concat(m,"/campaigns/"),headers:{}},e.next=3,b()(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"get",url:"".concat(m,"/campaigns/trending/"),headers:{}},e.next=3,b()(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"get",url:"".concat(m,"/campaigns/categories/"),headers:{}},e.next=3,b()(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"get",url:"".concat(m,"/campaigns/").concat(t,"/"),headers:{}},e.next=3,b()(n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"post",url:"".concat(m,"/campaigns/"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(h())},data:t},e.prev=1,e.next=4,b()(n);case 4:return a=e.sent,e.abrupt("return",a.data.id);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(j.a.mark((function e(t,n){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"put",url:"".concat(m,"/campaigns/").concat(t,"/"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(h())},data:n},e.prev=1,e.next=4,b()(a);case 4:c=e.sent,console.log(c.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"delete",url:"".concat(m,"/campaigns/").concat(t,"/"),headers:{Authorization:"Bearer ".concat(h())}},e.next=3,b()(n);case 3:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(j.a.mark((function e(t,n){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"post",url:"".concat(m,"/campaigns/").concat(n,"/pledge/"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(h())},data:t},e.prev=1,e.next=4,b()(a);case 4:c=e.sent,console.log(c.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"post",url:"".concat(m,"/pledges/"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(h())},data:t},e.prev=1,e.next=4,b()(n);case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"post",url:"".concat(m,"/auth/login/"),headers:{"Content-Type":"application/json"},data:t},e.prev=1,e.next=4,b()(n);case 4:a=e.sent,c=a.data.token,window.localStorage.setItem("token",c),console.log(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}var c}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"post",url:"".concat(m,"/auth/signup/"),headers:{"Content-Type":"application/json"},data:t},e.prev=1,e.next=4,b()(n);case 4:a=e.sent,console.log(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),k=n(53),F=n(56),A=n(102),I=n(107),D=n(89),L=n(8),E=n(2),_=n(17),q=n(23),T=n(0),B=function(e){var t=e.rewards,n=e.id,c=Object(l.f)(),r=Object(a.useState)(!1),i=Object(s.a)(r,2),o=i[0],u=i[1],b=function(){return u(!1)},h=Object(a.useState)({}),m=Object(s.a)(h,2),p=m[0],O=m[1];console.log(p.value);var x=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O({value:t}),u(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){console.log(p),b(),w(p,n),c("/campaigns")};return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:"tab-container",children:[Object(T.jsxs)("div",{className:"reward-container",children:[Object(T.jsx)("h4",{children:"Make a pledge, no reward"}),Object(T.jsx)("p",{children:"Pledge any amount and support this campaign for no reward."}),Object(T.jsx)("input",{type:"number",name:"value",value:p.value||"",onChange:function(e){var t=e.target,n=t.name,a=t.value;O(Object(E.a)(Object(E.a)({},p),{},Object(L.a)({},n,a)))}}),Object(T.jsx)("button",{onClick:g,children:"Continue"})]}),t.map((function(e){return Object(T.jsxs)("div",{className:"reward-container",children:[Object(T.jsx)("h4",{children:e.title}),Object(T.jsx)("p",{children:e.description}),Object(T.jsx)("p",{children:Object(T.jsxs)("span",{children:["\xa3",e.value]})}),Object(T.jsx)("button",{onClick:function(){return x(e.value)},children:"Continue"}),Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(_.a,{show:o,onHide:b,children:[Object(T.jsx)(_.a.Body,{children:"Continue to payment"}),Object(T.jsxs)(_.a.Footer,{children:[Object(T.jsx)(q.a,{variant:"secondary",onClick:b,children:"Cancel"}),Object(T.jsx)(q.a,{variant:"primary",onClick:g,children:"Continue"})]})]})})]},e.id)}))]})})},P=function(){return Object(T.jsxs)("div",{className:"tab-container",children:[Object(T.jsx)("p",{className:"story-para",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Elementum sagittis vitae et leo. Scelerisque purus semper eget duis at tellus. Sed arcu non odio euismod lacinia at quis risus. Commodo odio aenean sed adipiscing diam. Nullam eget felis eget nunc. Blandit cursus risus at ultrices mi tempus imperdiet nulla. Accumsan tortor posuere ac ut consequat semper viverra. Viverra mauris in aliquam sem fringilla ut morbi tincidunt augue. Ligula ullamcorper malesuada proin libero nunc consequat interdum varius sit. Fermentum et sollicitudin ac orci phasellus egestas tellus. Interdum velit euismod in pellentesque massa. Imperdiet proin fermentum leo vel orci porta non pulvinar. Est ante in nibh mauris."}),Object(T.jsxs)("p",{className:"story-para",children:["Sed cras ornare arcu dui vivamus arcu felis bibendum ut. Id aliquet lectus proin nibh nisl condimentum id venenatis. Mauris in aliquam sem fringilla ut morbi tincidunt. Dui faucibus in ornare quam viverra. Scelerisque eu ultrices vitae auctor eu augue ut lectus. Diam quam nulla porttitor massa id. Lectus mauris ultrices eros in cursus turpis massa tincidunt. Lectus arcu bibendum at varius vel. Vel eros donec ac odio tempor. Nisl pretium fusce id velit ut tortor pretium viverra suspendisse. Sed sed risus pretium quam vulputate dignissim. Aliquet porttitor lacus luctus accumsan tortor posuere ac ut consequat. Convallis tellus id interdum velit laoreet id donec ultrices tincidunt."," "]}),Object(T.jsxs)("p",{className:"story-para",children:[" ","Eget velit aliquet sagittis id consectetur. Consequat nisl vel pretium lectus quam id leo in vitae. Cursus eget nunc scelerisque viverra mauris in. Enim ut sem viverra aliquet. In dictum non consectetur a erat nam at lectus. Eget velit aliquet sagittis id consectetur. Posuere morbi leo urna molestie. Vitae purus faucibus ornare suspendisse sed nisi lacus. Amet justo donec enim diam vulputate ut pharetra sit. Faucibus nisl tincidunt eget nullam non nisi est sit. Magna etiam tempor orci eu lobortis."]})]})},G=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],r=function(){return c(!1)},i=Object(a.useState)({}),o=Object(s.a)(i,2),u=o[0],b=o[1],h=Object(a.useState)(60),m=Object(s.a)(h,2),p=m[0],O=m[1],x=Object(a.useState)(0),f=Object(s.a)(x,2),v=f[0],w=f[1],N=Object(l.g)().id,C=Object(l.f)();Object(a.useEffect)((function(){g(N).then(b)}),[N]),Object(a.useEffect)((function(){u.funding&&w(u.funding.value__sum),function(e,t){var n=new Date,a=new Date(e);a.setDate(a.getDate()+t);var c=a.getTime()-n.getTime(),r=Math.ceil(c/864e5);O(r)}(new Date(u.created_on),u.duration)}),[u]),console.log("CAMPAIGN DATA --\x3e",u);var S=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,y(N).then(C("/campaigns/"));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"show-header",children:[Object(T.jsx)("h2",{children:u.title}),Object(T.jsx)("h3",{children:u.byline})]}),Object(T.jsxs)("section",{className:"show-details",children:[Object(T.jsx)("div",{className:"img-container",children:Object(T.jsx)("img",{src:u.header_img,className:"main-img"})}),Object(T.jsxs)("div",{className:"status-container",children:[Object(T.jsx)(A.a,{animated:!0,now:v,max:u.target,variant:"info"}),v?Object(T.jsxs)("p",{children:[Object(T.jsx)("span",{children:Object(T.jsxs)("strong",{children:["\xa3",v]})})," ","of ",Object(T.jsxs)("strong",{children:["\xa3",u.target]})," pledged"]}):Object(T.jsxs)("p",{children:[Object(T.jsx)("span",{children:Object(T.jsx)("strong",{children:"\xa30"})})," ","of ",Object(T.jsxs)("strong",{children:["\xa3",u.target]})," pledged"]}),u.supporters?1===u.supporters.length?Object(T.jsxs)("p",{children:[Object(T.jsx)("span",{children:Object(T.jsx)("strong",{children:"1"})})," ","supporter"]}):Object(T.jsxs)("p",{children:[Object(T.jsx)("span",{children:Object(T.jsx)("strong",{children:u.supporters.length})})," ","supporters"]}):Object(T.jsx)("p",{children:"No supporters yet - be the first!"}),Object(T.jsxs)("p",{children:[Object(T.jsx)("span",{children:Object(T.jsx)("strong",{children:p})})," ","days remaining"]}),Object(T.jsx)("button",{children:"support this campaign"}),Object(T.jsxs)("div",{className:"status-footer",children:[Object(T.jsxs)("div",{className:"icon-text-container",children:[Object(T.jsx)(k.a,{icon:F.c}),Object(T.jsx)("p",{children:u.category})]}),Object(T.jsxs)("div",{className:"icon-text-container",children:[Object(T.jsx)(k.a,{icon:F.b}),Object(T.jsx)("p",{children:u.location})]})]})]})]}),Object(T.jsxs)("section",{className:"campaign-tabs",children:[Object(T.jsxs)(I.a,{defaultActiveKey:"profile",id:"uncontrolled-tab-example",className:"mb-3",children:[Object(T.jsx)(D.a,{eventKey:"home",title:"Story",default:!0,children:Object(T.jsx)(P,{})}),Object(T.jsx)(D.a,{eventKey:"profile",title:"Support",children:u.rewards&&Object(T.jsx)(B,{rewards:u.rewards,id:N})}),Object(T.jsx)(D.a,{eventKey:"contact",title:"Q&A",disabled:!0})]}),Object(T.jsxs)("div",{className:"admin-section",children:[Object(T.jsx)("button",{onClick:function(){C("/campaigns/".concat(N,"/edit"))},children:"Edit"}),Object(T.jsx)("button",{onClick:function(){return c(!0)},children:"Delete"}),Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(_.a,{show:n,onHide:r,children:[Object(T.jsx)(_.a.Body,{children:"Are you sure you want to delete this campaign?"}),Object(T.jsxs)(_.a.Footer,{children:[Object(T.jsx)(q.a,{variant:"secondary",onClick:r,children:"Cancel"}),Object(T.jsx)(q.a,{variant:"primary",onClick:S,children:"Continue"})]})]})})]})]})]})},H=function(e){var t=Object(a.useState)(60),n=Object(s.a)(t,2),c=n[0],r=n[1],l=Object(a.useState)(0),o=Object(s.a)(l,2),j=o[0],d=o[1];return Object(a.useEffect)((function(){!function(e,t){var n=new Date,a=new Date(e);a.setDate(a.getDate()+t);var c=a.getTime()-n.getTime(),s=Math.ceil(c/864e5);r(s)}(new Date(e.created_on),e.duration),d((e.funding.value__sum/e.target*100).toFixed(0))}),[e]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{className:"card-img",children:Object(T.jsx)("img",{src:e.header_img})}),Object(T.jsxs)("div",{className:"card-title",children:[Object(T.jsx)(i.b,{to:"/campaigns/".concat(e.id),children:Object(T.jsx)("h4",{children:e.title})},e.id),Object(T.jsx)("p",{children:e.byline})]}),Object(T.jsxs)("div",{className:"card-details",children:[Object(T.jsxs)("div",{className:"card-funding",children:[e.funding.value__sum?Object(T.jsxs)("p",{children:["\xa3",e.funding.value__sum," pledged"]}):Object(T.jsx)("p",{children:"No pledges yet"}),Object(T.jsxs)("p",{children:[j,"% funded"]})]}),Object(T.jsx)("div",{className:"card-time",children:Object(T.jsxs)("p",{children:[c," days left"]})})]})]})},M=n(104),V=n(83),z=function(e){return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(M.a,{id:"dropdown-basic-button",title:e.title,variant:"secondary",children:e.actions.map((function(e){return Object(T.jsx)(V.a.Item,{href:e.href,children:e.name},e.name)}))})})},K=n(106),R=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),i=Object(s.a)(r,2),l=i[0],o=i[1];Object(a.useEffect)((function(){p().then(c),o(!1)}),[]);return Object(T.jsx)(T.Fragment,{children:l?Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("div",{className:"loading-container",children:Object(T.jsx)(K.a,{animation:"border",role:"status"})})}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"filters-container",children:[Object(T.jsx)("div",{className:"filter-icon",children:Object(T.jsx)(k.a,{icon:F.a})}),Object(T.jsx)("div",{className:"filter-by",children:Object(T.jsx)("p",{children:Object(T.jsx)("strong",{children:"Filter By"})})}),Object(T.jsx)("div",{className:"filter",children:Object(T.jsx)(z,{title:"Location",actions:[{name:"London",href:"campaigns/"},{name:"Paris",href:"campaigns/"},{name:"Manchester",href:"campaigns/"}]})}),Object(T.jsx)("div",{className:"filter",children:Object(T.jsx)(z,{title:"Category",actions:[{name:"Art",href:"campaigns/"},{name:"Food",href:"campaigns/"},{name:"Design",href:"campaigns/"},{name:"Tech",href:"campaigns/"}]})}),Object(T.jsx)("div",{className:"filter",children:Object(T.jsx)(z,{title:"Funding",actions:[{name:"0% -25%",href:"campaigns/"},{name:"26% -50%",href:"campaigns/"},{name:"51% -75%",href:"campaigns/"},{name:"76% +",href:"campaigns/"}]})})]}),n.length&&Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("div",{className:"all-campaigns-container",children:n.map((function(e){return Object(T.jsx)("div",{className:"campaign-card",children:Object(T.jsx)(H,Object(E.a)({},e))},e.id)}))})})]})})},J=function(e){var t=e.show,n=e.handleClose,c=e.loggedIn,r=e.setLoggedIn,o=Object(a.useState)({}),j=Object(s.a)(o,2),d=j[0],u=j[1],b=Object(l.f)(),m=function(e){var t=e.target,n=t.name,a=t.value;u((function(e){return Object(E.a)(Object(E.a)({},e),{},Object(L.a)({},n,a))}))};console.log(d);return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(_.a,{show:t,onHide:n,children:[Object(T.jsx)(_.a.Header,{closeButton:!0,children:Object(T.jsx)(_.a.Title,{children:"Log in"})}),Object(T.jsx)(_.a.Body,{children:Object(T.jsxs)("div",{className:"login-modal",children:[Object(T.jsxs)("form",{children:[Object(T.jsx)("input",{placeholder:"email",type:"email",name:"email",value:d.email||"",onChange:m}),Object(T.jsx)("input",{placeholder:"password",type:"password",name:"password",value:d.password||"",onChange:m})]}),Object(T.jsxs)("p",{children:["Don't have an account? ",Object(T.jsx)(i.b,{to:"/signup",children:"Sign up here"})]})]})}),Object(T.jsxs)(_.a.Footer,{children:[Object(T.jsx)(q.a,{variant:"secondary",onClick:n,children:"Close"}),Object(T.jsx)(q.a,{variant:"primary",onClick:function(e){e.preventDefault,!c&&C(d),h()?r(!0):r(!1),b("/"),n(!0)},children:"Log in"})]})]})})},U=n(147),Q=n(88),W=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],r=function(){return c(!1)};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(U.a,{toggled:n,toggle:function(){return c(!n)}}),Object(T.jsxs)(Q.a,{show:n,onHide:r,children:[Object(T.jsx)(Q.a.Header,{}),Object(T.jsx)(Q.a.Body,{children:Object(T.jsx)("nav",{children:Object(T.jsxs)("ul",{className:"nav-list",onClick:r,children:[Object(T.jsx)(i.b,{to:"/",children:Object(T.jsx)("li",{className:"first-link",children:"Home"})}),Object(T.jsx)(i.b,{to:"/campaigns",children:Object(T.jsx)("li",{children:"Browse campaigns"})}),Object(T.jsx)(i.b,{to:"/campaigns/new",children:Object(T.jsx)("li",{children:"Start a campaign"})}),Object(T.jsx)("li",{children:"Categories"})]})})})]})]})},X=function(e){var t=e.loggedIn,n=e.handleLogout,c=e.setLoggedIn,r=Object(a.useState)(!1),l=Object(s.a)(r,2),o=l[0],j=l[1];return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("header",{children:Object(T.jsxs)("div",{className:"header-container",children:[Object(T.jsx)("div",{className:"header-left",children:Object(T.jsx)("div",{className:"hamburger-container",children:Object(T.jsx)(W,{})})}),Object(T.jsx)("div",{className:"header-centre",children:Object(T.jsx)(i.b,{to:"/",children:Object(T.jsx)("h1",{children:"crowd"})})}),Object(T.jsxs)("div",{className:"header-right",children:[t?Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("button",{onClick:n,children:"LOGOUT"})}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("button",{onClick:function(){return j(!0)},children:"LOG IN / REGISTER"}),Object(T.jsx)(J,{show:o,handleClose:function(){return j(!1)},loggedIn:t,setLoggedIn:c})]}),Object(T.jsx)(i.b,{to:"/campaigns/new",children:Object(T.jsx)("button",{children:"START A CAMPAIGN"})})]})]})})})},Y=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),l=Object(s.a)(r,2),o=l[0],j=l[1];return Object(a.useEffect)((function(){O().then(c),x().then(j)}),[]),console.log(n),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"hero",children:[Object(T.jsx)("h2",{children:"A platform to support creativity and innovation."}),Object(T.jsxs)("h2",{children:["Fund a ",Object(T.jsx)("strong",{children:"crowd"})," campaign."]}),Object(T.jsxs)("div",{className:"hero-buttons",children:[Object(T.jsx)(i.b,{to:"/campaigns/new/",children:Object(T.jsx)("p",{children:"Start a campaign"})}),Object(T.jsx)(i.b,{to:"/campaigns/",children:Object(T.jsx)("p",{children:"Browse campaigns"})})]})]}),Object(T.jsxs)("section",{className:"trending-container",children:[Object(T.jsx)("h3",{className:"trending-header",children:"Trending campaigns"}),Object(T.jsx)("div",{className:"trending-campaigns",children:n&&n.slice(0,3).map((function(e){return Object(T.jsx)("div",{className:"campaign-card",children:Object(T.jsx)(H,Object(E.a)({},e))},e.id)}))})]}),Object(T.jsx)("section",{className:"home-bottom",children:Object(T.jsxs)("div",{className:"bottom-container",children:[Object(T.jsxs)("div",{className:"categories-container",children:[Object(T.jsx)("h3",{className:"h3",children:"Categories"}),Object(T.jsx)("div",{className:"categories-list",children:o&&o.map((function(e){return Object(T.jsx)("p",{className:"category",children:e.category},e.category)}))})]}),Object(T.jsxs)("div",{className:"featured-container",children:[Object(T.jsx)("h3",{className:"h3",children:"Featured campaign"}),Object(T.jsx)("div",{className:"featured-card",children:n&&n.slice(4,5).map((function(e){return Object(T.jsx)("div",{className:"campaign-card",children:Object(T.jsx)(H,Object(E.a)({},e))},e.id)}))})]})]})})]})},Z=function(){var e=Object(a.useState)({}),t=Object(s.a)(e,2),n=t[0],c=t[1],r=function(e){var t=e.target,n=t.name,a=t.value;c((function(e){return Object(E.a)(Object(E.a)({},e),{},Object(L.a)({},n,a))}))};console.log(n);return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("div",{className:"signup-section",children:Object(T.jsxs)("form",{children:[Object(T.jsxs)("div",{className:"form-container",children:[Object(T.jsx)("h3",{children:"Sign up"}),Object(T.jsxs)("div",{className:"field",children:[Object(T.jsx)("label",{htmlFor:"first_name",children:"First name"}),Object(T.jsx)("input",{placeholder:"first name",type:"text",name:"first_name",value:n.first_name||"",onChange:r})]}),Object(T.jsxs)("div",{className:"field",children:[Object(T.jsx)("label",{htmlFor:"last_name",children:"Last name"}),Object(T.jsx)("input",{placeholder:"last name",type:"text",name:"last_name",value:n.last_name||"",onChange:r})]}),Object(T.jsxs)("div",{className:"field",children:[Object(T.jsx)("label",{htmlFor:"username",children:"Username"}),Object(T.jsx)("input",{placeholder:"username",type:"text",name:"username",value:n.username||"",onChange:r})]}),Object(T.jsxs)("div",{className:"field",children:[Object(T.jsx)("label",{htmlFor:"email",children:"Email"}),Object(T.jsx)("input",{placeholder:"email",type:"email",name:"email",value:n.email||"",onChange:r})]}),Object(T.jsxs)("div",{className:"field",children:[Object(T.jsx)("label",{htmlFor:"password",children:"Password"}),Object(T.jsx)("input",{placeholder:"password",type:"password",name:"password",value:n.password||"",onChange:r})]}),Object(T.jsxs)("div",{className:"field",children:[Object(T.jsx)("label",{htmlFor:"password_confirmation",children:"Confirm password"}),Object(T.jsx)("input",{placeholder:"confirm password",type:"password",name:"password_confirmation",value:n.password_confirmation||"",onChange:r})]})]}),Object(T.jsx)("div",{className:"start-submit",children:Object(T.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),S(n)},children:"Sign up"})})]})})})},$=function(e){var t=e.displayAs,n=e.name,a=e.data,c=e.handleChange,r=e.options;return Object(T.jsxs)("div",{className:"field",children:[Object(T.jsx)("label",{htmlFor:n,children:t}),Object(T.jsx)("select",{id:n,name:n,value:a[n],onChange:c,children:r.map((function(e){return Object(T.jsx)("option",{value:e,children:e},e)}))})]})},ee=function(e){var t=e.displayAs,n=e.name,a=e.type,c=e.placeholder,r=e.data,s=e.handleChange;return Object(T.jsxs)("div",{className:"field",children:[Object(T.jsx)("label",{htmlFor:n,children:t}),Object(T.jsx)("input",{placeholder:c,type:a,id:n,name:n,value:r[n],onChange:s})]})},te=function(e){var t=e.displayAs,n=e.name,a=e.placeholder,c=e.data,r=e.handleChange,s=e.maxlength;return Object(T.jsxs)("div",{className:"field",children:[Object(T.jsx)("label",{htmlFor:n,children:t}),Object(T.jsx)("textarea",{placeholder:a,id:n,name:n,value:c[n],onChange:r,maxLength:s})]})},ne=function(e){var t=e.formProps;return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(T.jsxs)("div",{className:"form-container",children:[Object(T.jsx)("h3",{children:"Create your campaign"}),Object(T.jsxs)("div",{children:[Object(T.jsx)(ee,Object(E.a)({displayAs:"Campaign title",name:"title",type:"text",placeholder:"campaign title"},t)),Object(T.jsx)(te,Object(E.a)({displayAs:"Description",name:"byline",placeholder:"write a short description (1-2 sentences) of your campaign",maxlength:"140"},t)),Object(T.jsx)($,Object(E.a)({displayAs:"Category",name:"category",type:"select",placeholder:"campaign title",options:["Art","Technology","Food","Design","Fashion","Music","Gaming","Sustainability","Other"]},t)),Object(T.jsx)(ee,Object(E.a)({displayAs:"Location",name:"location",type:"text",placeholder:"format: city, country i.e. London, UK"},t)),Object(T.jsx)(ee,Object(E.a)({displayAs:"Campaign target",name:"target",type:"number",placeholder:"your target funding in GBP"},t)),Object(T.jsx)(ee,Object(E.a)({displayAs:"Campaign duration",name:"duration",type:"number",placeholder:"max. 90 days"},t))]})]}),Object(T.jsx)("div",{className:"start-submit",children:Object(T.jsx)("input",{type:"submit",value:"NEXT"})})]})})},ae=function(e){var t=e.id,n=Object(l.f)(),c=Object(a.useState)({title:"",description:"",value:"",campaign:t}),r=Object(s.a)(c,2),i=r[0],o=r[1],u=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,N(i);case 3:b();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){o({title:"",description:"",value:"",campaign:t})},h={data:i,handleChange:function(e){var t=e.target,n=t.name,a=t.value;o(Object(E.a)(Object(E.a)({},i),{},Object(L.a)({},n,a)))},handleSubmit:u};return Object(T.jsx)("div",{children:Object(T.jsxs)("form",{onSubmit:u,children:[Object(T.jsxs)("div",{className:"form-container",children:[Object(T.jsx)("h3",{children:"Create your pledge rewards"}),Object(T.jsx)(ee,Object(E.a)({displayAs:"Reward title",name:"title",type:"text",placeholder:"reward title i.e. a copy of your book, stickers, a free lesson"},h)),Object(T.jsx)(te,Object(E.a)({displayAs:"Description",name:"description",placeholder:"write a short description (1-2 sentences) of your reward to attract some pledges",maxlength:"140"},h)),Object(T.jsx)(ee,Object(E.a)({displayAs:"Pledge amount",name:"value",type:"number",placeholder:"set an amount in GBP for this reward"},h)),Object(T.jsx)("div",{className:"add-submit",children:Object(T.jsx)("input",{type:"submit",value:"save and add another"})})]}),Object(T.jsx)("div",{className:"start-submit",children:Object(T.jsx)("button",{onClick:function(){n("/campaigns/".concat(t)),N(i)},children:"SAVE AND VIEW CAMPAIGN"})})]})})},ce=function(e){var t=e.loggedIn,n=e.setLoggedIn,c=e.setStep,r=Object(a.useState)({}),i=Object(s.a)(r,2),l=i[0],o=i[1],j=Object(a.useState)(!1),d=Object(s.a)(j,2),u=d[0],b=d[1],m=function(e){var t=e.target,n=t.name,a=t.value;o((function(e){return Object(E.a)(Object(E.a)({},e),{},Object(L.a)({},n,a))}))};console.log(l);return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("form",{onSubmit:function(e){if(e.preventDefault,!t)try{C(l),h()?n(!0):n(!1),c(1)}catch(a){console.log(a),b(!0),c(0)}},children:[Object(T.jsxs)("div",{className:"form-container login",children:[Object(T.jsx)("h3",{children:"Log in"}),Object(T.jsxs)("div",{className:"field",children:[Object(T.jsx)("label",{htmlFor:"email",children:"Email"}),Object(T.jsx)("input",{placeholder:"email",type:"email",name:"email",value:l.email||"",onChange:m})]}),Object(T.jsxs)("div",{className:"field",children:[Object(T.jsx)("label",{htmlFor:"password",children:"Password"}),Object(T.jsx)("input",{placeholder:"password",type:"password",name:"password",value:l.password||"",onChange:m})]}),u&&Object(T.jsx)("p",{children:"Something went wrong, please try again"})]}),Object(T.jsx)("div",{className:"start-submit",children:Object(T.jsx)("input",{type:"submit",value:"LOGIN"})})]})})},re=function(e){var t=e.loggedIn,n=e.setLoggedIn,c=Object(l.f)(),r=Object(a.useState)(0),i=Object(s.a)(r,2),o=i[0],u=i[1],b=Object(a.useState)({title:"",byline:"",category:"",location:"",header_img:"https://i.imgur.com/ZIJDpeq.jpg",target:"",duration:"",description:""}),h=Object(s.a)(b,2),m=h[0],p=h[1],O=Object(a.useState)(0),x=Object(s.a)(O,2),g=x[0],v=x[1];Object(a.useEffect)((function(){t&&u(1)}),[t]);var y=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),o){e.next=5;break}u(1),e.next=12;break;case 5:if(1!==o){e.next=11;break}return e.next=8,f(m).then(v);case 8:u(2),e.next=12;break;case 11:2===o&&c("/campaigns/");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();console.log("id! --\x3e ",g);var w={data:m,handleChange:function(e){var t=e.target,n=t.name,a=t.value;p(Object(E.a)(Object(E.a)({},m),{},Object(L.a)({},n,a)))},handleSubmit:y};return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("section",{className:"start-form",children:[Object(T.jsx)("h2",{children:"Start a crowd campaign"}),Object(T.jsxs)("ul",{className:"start-breadcrumb",children:[Object(T.jsx)("li",{onClick:function(){return u(0)},children:Object(T.jsxs)("span",{children:[Object(T.jsx)("strong",{children:"Step 1"}),": log in or sign up"]})}),Object(T.jsx)("li",{onClick:function(){return u(1)},children:Object(T.jsxs)("span",{children:[Object(T.jsx)("strong",{children:"Step 2"}),": create your campaign"]})}),Object(T.jsx)("li",{onClick:function(){return u(2)},children:Object(T.jsxs)("span",{children:[Object(T.jsx)("strong",{children:"Step 3"}),": create rewards for pledges"]})})]}),o?1===o?Object(T.jsx)(ne,{formProps:w}):Object(T.jsx)(ae,{setStep:u,id:g}):t?Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("p",{children:"You're already signed in! Click on Step 2 above to get started on your campaign."})}):Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(ce,{loggedIn:t,setLoggedIn:n,setStep:u})})]})})},se=function(){var e=Object(l.f)(),t=Object(l.g)().id,n=Object(a.useState)({title:"",byline:"",category:"",location:"",header_img:"",target:"",duration:"",description:""}),c=Object(s.a)(n,2),r=c[0],i=c[1];Object(a.useEffect)((function(){g(t).then(i)}),[t]);var o=function(){var n=Object(d.a)(j.a.mark((function n(a){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.next=3,v(t,r).then(e("/campaigns/".concat(t,"/")));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),u={data:r,handleChange:function(e){var t=e.target,n=t.name,a=t.value;i(Object(E.a)(Object(E.a)({},r),{},Object(L.a)({},n,a)))}};return Object(T.jsx)("section",{children:Object(T.jsx)("div",{className:"edit-container",children:Object(T.jsxs)("form",{onSubmit:o,children:[Object(T.jsx)("div",{className:"form-container",children:Object(T.jsx)(ne,{formProps:u})}),Object(T.jsx)("div",{className:"start-submit",children:Object(T.jsx)("input",{type:"submit",value:"SAVE CHANGES"})})]})})})},ie=function(){return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("footer",{children:Object(T.jsxs)("div",{className:"footer-container",children:[Object(T.jsx)("div",{children:Object(T.jsx)("h1",{children:"crowd"})}),Object(T.jsx)("div",{children:Object(T.jsx)("p",{children:"created by Hannah Hill"})})]})})})};var le=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),o=Object(s.a)(r,2),j=o[0],d=o[1];return Object(a.useEffect)((function(){p().then(c)}),[]),n.length&&console.log(n),Object(a.useEffect)((function(){h()?d(!0):d(!1)}),[]),Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(i.a,{children:[Object(T.jsx)(X,{loggedIn:j,setLoggedIn:d,handleLogout:function(){window.localStorage.removeItem("token"),d(!1)}}),Object(T.jsx)("main",{children:Object(T.jsxs)(l.c,{children:[Object(T.jsx)(l.a,{path:"/campaigns/:id/edit",element:Object(T.jsx)(se,{loggedIn:j})}),Object(T.jsx)(l.a,{path:"/campaigns/:id",element:Object(T.jsx)(G,{})}),Object(T.jsx)(l.a,{path:"/campaigns/new",element:Object(T.jsx)(re,{loggedIn:j,setLoggedIn:d})}),Object(T.jsx)(l.a,{path:"/campaigns",element:Object(T.jsx)(R,{})}),Object(T.jsx)(l.a,{path:"/signup",element:Object(T.jsx)(Z,{})}),Object(T.jsx)(l.a,{path:"/",element:Object(T.jsx)(Y,{campaigns:n})})]})}),Object(T.jsx)(ie,{})]})})};r.a.render(Object(T.jsx)(le,{}),document.getElementById("root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.17d14c6a.chunk.js.map